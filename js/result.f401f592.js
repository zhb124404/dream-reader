(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["result"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"368e":function(t,e,n){},"841c":function(t,e,n){"use strict";var i=n("d784"),o=n("825a"),a=n("1d80"),s=n("129f"),r=n("14c3");i("search",1,(function(t,e,n){return[function(e){var n=a(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var a=o(t),c=String(this),l=a.lastIndex;s(l,0)||(a.lastIndex=0);var u=r(a,c);return s(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]}))},"99d9":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var i=n("b0af"),o=n("80d2"),a=Object(o["g"])("v-card__actions"),s=Object(o["g"])("v-card__subtitle"),r=Object(o["g"])("v-card__text"),c=Object(o["g"])("v-card__title");i["a"]},eeac:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search ma-4"},[n("div",{staticClass:"mb-4"},[n("v-icon",{on:{click:function(e){return t.$router.back()}}},[t._v("mdi-reply-all")])],1),t._l(t.books,(function(e,i){return n("v-hover",{key:"book-"+i,scopedSlots:t._u([{key:"default",fn:function(i){var o=i.hover;return[n("v-card",{staticClass:"mb-4",attrs:{elevation:o?4:2},on:{click:function(n){return t.getBookInfo(e.bookUrl)}}},[n("v-container",{staticClass:"pa-4"},[n("v-row",[n("v-col",{staticClass:"py-0",attrs:{"align-self":"center",cols:"4"}},[n("v-avatar",{attrs:{height:"112",width:"80",tile:""}},[n("v-img",{staticStyle:{"border-radius":"4px"},attrs:{src:e.coverUrl},scopedSlots:t._u([{key:"placeholder",fn:function(){return[n("PuSkeleton",{attrs:{height:"120px",width:"88px"}})]},proxy:!0}],null,!0)})],1)],1),n("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[n("v-row",[n("v-col",{staticClass:"pa-0 pr-2",attrs:{cols:"12"}},[n("div",{staticClass:"text-subtitle-1 text-truncate pb-1"},[n("PuSkeleton",{attrs:{width:"120px"}},[t._v(t._s(e.name))])],1),n("div",{staticClass:"text-subtitle-2 text--secondary text-truncate pb-1"},[n("PuSkeleton",{attrs:{width:"80px"}},[t._v(t._s(e.author))])],1),n("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp",value:3,expression:"3"}],staticClass:"text-body-2"},[n("PuSkeleton",{attrs:{count:3}},[t._v(t._s(e.intro))])],1)])],1)],1)],1)],1)],1)]}}],null,!0)})})),n("v-dialog",{attrs:{"max-width":"400"},model:{value:t.showBookInfo,callback:function(e){t.showBookInfo=e},expression:"showBookInfo"}},[n("v-card",[n("v-container",{staticClass:"pa-4"},[n("v-row",[n("v-col",{staticClass:"py-0",attrs:{"align-self":"center",cols:"4"}},[t.showBookInfo?n("v-avatar",{attrs:{height:"112",width:"80",tile:""}},[n("v-img",{staticStyle:{"border-radius":"4px"},attrs:{src:t.bookInfo.coverUrl},scopedSlots:t._u([{key:"placeholder",fn:function(){return[n("PuSkeleton",{attrs:{height:"120px",width:"88px"}})]},proxy:!0}],null,!1,3894528383)})],1):t._e()],1),n("v-col",{staticClass:"py-0",attrs:{cols:"8"}},[n("v-row",[n("v-col",{staticClass:"pa-0 pr-2",attrs:{cols:"12"}},[n("div",{staticClass:"text-subtitle-1 text-truncate pb-1"},[n("PuSkeleton",{attrs:{width:"120px"}},[t._v(t._s(t.bookInfo.name))])],1),n("div",{staticClass:"text-subtitle-2 text--secondary text-truncate"},[t.bookInfoLoading?n("PuSkeleton",{attrs:{width:"80px"}}):n("v-icon",{attrs:{size:"20px"}},[t._v("mdi-face")]),t._v(t._s(t.bookInfo.author)+" ")],1),n("div",{staticClass:"text-subtitle-2 text--secondary text-truncate"},[t.bookInfoLoading?n("PuSkeleton",{attrs:{width:"72px"}}):n("v-icon",{attrs:{size:"20px"}},[t._v("mdi-tag")]),t._v(t._s(t.bookInfo.type)+" ")],1),n("div",{staticClass:"text-subtitle-2 text--secondary text-truncate"},[t.bookInfoLoading?n("PuSkeleton",{attrs:{width:"200px"}}):n("v-icon",{attrs:{size:"20px"}},[t._v("mdi-ticket-confirmation")]),t._v(t._s(t.bookInfo.lastChapter)+" ")],1),n("div",{staticClass:"text-subtitle-2 text--secondary text-truncate"},[t.bookInfoLoading?n("PuSkeleton",{attrs:{width:"200px"}}):n("v-icon",{attrs:{size:"20px"}},[t._v("mdi-clock-time-nine")]),t._v(t._s(t.bookInfo.lastUpdate)+" ")],1)])],1)],1)],1),n("v-divider",{staticClass:"mt-4"}),n("v-row",[n("v-card-text",[n("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp",value:8,expression:"8"}],staticStyle:{"text-indent":"2em"}},[n("PuSkeleton",{attrs:{count:5}},[t._v(" "+t._s(t.bookInfo.intro)+" ")])],1)])],1),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",disabled:t.bookInfoLoading,text:""},on:{click:function(e){return t.getContent(t.bookInfo.chaptersUrl)}}},[t._v(" 开始阅读 ")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",disabled:t.bookInfoLoading,text:""},on:{click:function(e){t.showBookInfo=!1}}},[t._v(" 加入书架 ")])],1)],1)],1)],1)],2)},o=[],a=(n("ac1f"),n("841c"),n("96cf"),n("1da1")),s={data:function(){return{books:5,bookInfo:{},loading:!1,bookInfoLoading:!1,showBookInfo:!1}},methods:{search:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var i,o,a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i={id:t},e.loading=!0,n.next=5,e.$axios.get("/search",{params:i});case 5:o=n.sent,e.loading=!1,a=o.data,s=a.code,r=a.books,"0000"===s?(e.books=r,0===e.books.length&&e.$store.commit("showMsg",{text:"未搜索到相关小说！",type:"info"})):e.$store.commit("showMsg",{text:"搜索失败！",type:"warning"}),n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](0),e.loading=!1,e.$store.commit("showMsg",{text:n.t0.message,type:"error"});case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))()},getBookInfo:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var i,o,a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.bookInfo={},e.showBookInfo=!0,n.prev=2,i={id:t},e.bookInfoLoading=!0,n.next=7,e.$axios.get("/getBook",{params:i});case 7:o=n.sent,e.bookInfoLoading=!1,a=o.data,s=a.code,r=a.book,"0000"===s?e.bookInfo=r:e.$store.commit("showMsg",{text:"搜索失败！",type:"warning"}),n.next=17;break;case 13:n.prev=13,n.t0=n["catch"](2),e.bookInfoLoading=!1,e.$store.commit("showMsg",{text:n.t0.message,type:"error"});case 17:case"end":return n.stop()}}),n,null,[[2,13]])})))()},getChapters:function(t,e){this.showBookInfo=!1,this.$router.push({name:"Chapters",query:{name:t,id:e}})},getContent:function(t){this.showBookInfo=!1,this.$router.push({name:"Content",query:{id:t}})}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.search(t.$route.query.id);case 2:case"end":return e.stop()}}),e)})))()}},r=s,c=n("2877"),l=n("6544"),u=n.n(l),d=n("8212"),h=n("8336"),v=n("b0af"),f=n("99d9"),p=n("62ad"),m=n("a523"),g=(n("7db0"),n("caad"),n("45fc"),n("a9e3"),n("2532"),n("498a"),n("5530")),b=n("2909"),x=n("ade3"),k=(n("368e"),n("7560")),y=k["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark:function(){return this.root?this.rootIsDark:k["a"].options.computed.isDark.call(this)}},render:function(){return this.$slots.default&&this.$slots.default.find((function(t){return!t.isComment&&" "!==t.text}))}}),w=(n("b0c0"),n("b64b"),n("53ca")),A=n("2b0e"),O=A["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:function(){return{openTimeout:void 0,closeTimeout:void 0}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(t,e){var n=this;this.clearDelay();var i=parseInt(this["".concat(t,"Delay")],10);this["".concat(t,"Timeout")]=setTimeout(e||function(){n.isActive={open:!0,close:!1}[t]},i)}}}),C=n("f2e7"),$=n("58df"),I=n("80d2"),_=n("d9bd"),j=Object($["a"])(O,C["a"]),S=j.extend({name:"activatable",props:{activator:{default:null,validator:function(t){return["string","object"].includes(Object(w["a"])(t))}},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean,openOnFocus:Boolean},data:function(){return{activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}},watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted:function(){var t=Object(I["m"])(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&Object(_["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy:function(){this.removeActivatorEvents()},methods:{addActivatorEvents:function(){if(this.activator&&!this.disabled&&this.getActivator()){this.listeners=this.genActivatorListeners();for(var t=Object.keys(this.listeners),e=0,n=t;e<n.length;e++){var i=n[e];this.getActivator().addEventListener(i,this.listeners[i])}}},genActivator:function(){var t=Object(I["l"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},genActivatorAttributes:function(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners:function(){var t=this;if(this.disabled)return{};var e={};return this.openOnHover?(e.mouseenter=function(e){t.getActivator(e),t.runDelay("open")},e.mouseleave=function(e){t.getActivator(e),t.runDelay("close")}):e.click=function(e){var n=t.getActivator(e);n&&n.focus(),e.stopPropagation(),t.isActive=!t.isActive},this.openOnFocus&&(e.focus=function(e){t.getActivator(e),e.stopPropagation(),t.isActive=!t.isActive}),e},getActivator:function(t){if(this.activatorElement)return this.activatorElement;var e=null;if(this.activator){var n=this.internalActivator?this.$el:document;e="string"===typeof this.activator?n.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!t){var i=this.activatorNode[0].componentInstance;e=i&&i.$options.mixins&&i.$options.mixins.some((function(t){return t.options&&["activatable","menuable"].includes(t.options.name)}))?i.getActivator():this.activatorNode[0].elm}else t&&(e=t.currentTarget||t.target);return this.activatorElement=e,this.activatorElement},getContentSlot:function(){return Object(I["l"])(this,"default",this.getValueProxy(),!0)},getValueProxy:function(){var t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},removeActivatorEvents:function(){if(this.activator&&this.activatorElement){for(var t=Object.keys(this.listeners),e=0,n=t;e<n.length;e++){var i=n[e];this.activatorElement.removeEventListener(i,this.listeners[i])}this.listeners={}}},resetActivator:function(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}}),E=n("b848"),B=(n("4160"),n("159b"),n("9d65"));function N(t){var e=Object(w["a"])(t);return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}var D=Object($["a"])(B["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:N},contentClass:{type:String,default:""}},data:function(){return{activatorNode:null,hasDetached:!1}},watch:{attach:function(){this.hasDetached=!1,this.initDetach()},hasContent:function(){this.$nextTick(this.initDetach)}},beforeMount:function(){var t=this;this.$nextTick((function(){if(t.activatorNode){var e=Array.isArray(t.activatorNode)?t.activatorNode:[t.activatorNode];e.forEach((function(e){if(e.elm&&t.$el.parentNode){var n=t.$el===t.$el.parentNode.firstChild?t.$el:t.$el.nextSibling;t.$el.parentNode.insertBefore(e.elm,n)}}))}}))},mounted:function(){this.hasContent&&this.initDetach()},deactivated:function(){this.isActive=!1},beforeDestroy:function(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){var t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];t.forEach((function(t){t.elm&&t.elm.parentNode&&t.elm.parentNode.removeChild(t.elm)}))}}catch(e){console.log(e)}},methods:{getScopeIdAttrs:function(){var t=Object(I["k"])(this.$vnode,"context.$options._scopeId");return t&&Object(x["a"])({},t,"")},initDetach:function(){var t;this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach||(t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?(t.appendChild(this.$refs.content),this.hasDetached=!0):Object(_["c"])("Unable to locate target ".concat(this.attach||"[data-app]"),this))}}}),T=n("e707"),V=A["a"].extend({name:"returnable",props:{returnValue:null},data:function(){return{isActive:!1,originalValue:null}},watch:{isActive:function(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save:function(t){var e=this;this.originalValue=t,setTimeout((function(){e.isActive=!1}))}}}),L=(n("99af"),A["a"].extend().extend({name:"stackable",data:function(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex:function(){if("undefined"===typeof window)return 0;var t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:Object(I["n"])(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.$el,n=[this.stackMinZIndex,Object(I["n"])(e)],i=[].concat(Object(b["a"])(document.getElementsByClassName("v-menu__content--active")),Object(b["a"])(document.getElementsByClassName("v-dialog__content--active"))),o=0;o<i.length;o++)t.includes(i[o])||n.push(Object(I["n"])(i[o]));return Math.max.apply(Math,n)}}})),M=n("a293"),P=Object($["a"])(S,E["a"],D,T["a"],V,L,C["a"]),Z=P.extend({name:"v-dialog",directives:{ClickOutside:M["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes:function(){var t;return t={},Object(x["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(x["a"])(t,"v-dialog--active",this.isActive),Object(x["a"])(t,"v-dialog--persistent",this.persistent),Object(x["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(x["a"])(t,"v-dialog--scrollable",this.scrollable),Object(x["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(_["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):T["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$refs.content.focus(),t.bind()}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===I["p"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var n=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=Object(b["a"])(n).find((function(t){return!t.hasAttribute("disabled")}));i&&i.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(y,{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(g["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(g["a"])(Object(g["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(I["f"])(this.maxWidth),width:"auto"===this.width?void 0:Object(I["f"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}}),F=n("ce7e"),R=Object($["a"])(O,C["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(_["c"])("v-hover should only contain a single element",this),t)):(Object(_["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}}),q=n("132d"),z=n("adda"),U=n("0fd9"),H=(n("20f6"),Object(I["g"])("spacer","div","v-spacer")),W=Object(c["a"])(r,i,o,!1,null,null,null);e["default"]=W.exports;u()(W,{VAvatar:d["a"],VBtn:h["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCol:p["a"],VContainer:m["a"],VDialog:Z,VDivider:F["a"],VHover:R,VIcon:q["a"],VImg:z["a"],VRow:U["a"],VSpacer:H})}}]);
//# sourceMappingURL=result.f401f592.js.map